/*
Theme Name: EmboTheme
Theme URI: https://embo-studio.ua/
Author: Pan Canon
Author URI: https://github.com/bogdan2143/embo-theme
Description: Optimised block theme CSS
Version: 3.6
License: GNU General Public License v2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html
Text Domain: myblocktheme
Tags: block-theme, full-site-editing, fse, responsive, bulma
*/

/* ------------------------------------------------------------
   1. Base & Reset
------------------------------------------------------------- */
html,body{height:100%}
html{overflow: hidden}
body{display:flex;flex-direction:column;margin:0;overflow-y:auto;overflow-x:hidden}
img{border-radius:7px}

/* ------------------------------------------------------------
   2. Layout Containers
------------------------------------------------------------- */
.container{padding:0 2rem}
.main-container{flex:1;margin:20px 0}

/* custom width (Bulma) */
.container:not(.is-max-desktop):not(.is-max-widescreen){max-width:1000px;width:100%}

/* Ensure central alignment for core layout wrappers */
.container,.main-container,footer .container{margin-left:auto;margin-right:auto}
/* Keep aside centred while retaining vertical spacing */
.global-aside{margin:10px auto}

/* ------------------------------------------------------------
   3. Navigation (Navbar & Burger)
------------------------------------------------------------- */
.navbar nav{width:100%}

.navbar .navbar-item:hover,.navbar .navbar-item:focus{background-color:transparent!important}

.navbar-burger{z-index:99999;cursor:pointer}
.navbar-menu{display:none}
.navbar-menu.is-active{display:block}

@media screen and (min-width:1024px){
  .navbar-menu{display:block!important}
  .navbar-burger{display:none!important}
}
@media screen and (max-width:1024px){
  .navbar-menu.is-active{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#222;z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2rem}
  .navbar-menu.is-active .navbar-end{flex-direction:column;align-items:center}
  .navbar-end .navbar-item{color:#fff;font-size:1.2rem;text-align:center}
  /* Navbar brand order on mobile */
  .navbar-brand{display:flex;align-items:center;width:100%}
  .navbar-brand>.custom-logo,.navbar-brand>form{margin-right:1rem}
  .navbar-brand>.wp-block-group:last-child{margin-left:auto}
}

.navbar-menu a {text-decoration:none}

.wp-block-group.navbar-end{position:relative;overflow:visible;}

.more-toggle .navbar-dropdown{display: none;position:absolute;top:calc(100% + 0.80rem);right:0;left:auto;background:#fff;border:1px solid #ddd;box-shadow:0 2px 6px rgba(0,0,0,0.15);z-index:20;min-width:8rem;white-space:nowrap;}
.more-toggle.active .navbar-dropdown{display:block;}
.more-toggle .navbar-dropdown .navbar-item{display:block;padding:.5em 1em;color:#333;}
.more-toggle .navbar-dropdown .navbar-item:hover{background:#f5f5f5;}

/* ------------------------------------------------------------
   4. Search Form
------------------------------------------------------------- */
.wp-block-search.wp-block-search__button-outside.wp-block-search__text-button{display:inline-flex;align-items:stretch;margin:0}
.wp-block-search__inside-wrapper{display:flex;height:40px;margin:10px 0;align-items:stretch}
/* !important to avoid conflict in inline */
.wp-block-search__input{flex:1;border:none!important;border-radius:7px 0 0 7px;padding:0.5rem 1rem;font-size:1rem;outline:none;background:rgba(30,45,63,.5);color:#fff}
.wp-block-search__button{border:none!important;border-radius:0 7px 7px 0;padding:0 1rem;font-size:1rem;background-color:rgba(30,45,63,.5)!important;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center}

/* ------------------------------------------------------------
   5. Breadcrumbs & Timeline
------------------------------------------------------------- */
.breadcrumb{padding:20px}
.breadcrumb-item{display:inline-block;margin-right:10px}
.breadcrumb-item:last-child{margin-right:0}
.breadcrumb-item:not(:first-child):last-child span{padding:0 .75em}
.is-active,.menu-label{font-weight:700}

.timeline-list{list-style:none;padding-left:0}
.timeline-item{margin-bottom:15px;border-bottom:1px solid #ddd;padding-bottom:10px}

/* ------------------------------------------------------------
   6. News Feed
------------------------------------------------------------- */
.news-feed{margin-top:20px}
.news-feed article.news-item{display:flex;align-items:flex-start;margin-bottom:20px;padding-bottom:20px;padding-right:20px;padding-left:20px;border-bottom:1px solid #eee}
.news-feed .news-image{flex:0 0 200px;margin-right:20px}
.news-feed .news-image img{width:100%;height:auto;border-radius:4px}
.news-feed .news-content{flex:1}
.news-feed .news-content h2{margin-bottom:10px;font-size:1.25rem;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.news-feed .news-content p{margin-bottom:10px}
.load-more{margin-top:20px;text-align:center}

/* ------------------------------------------------------------
   7. Articles / Single Post
------------------------------------------------------------- */
.article-content{max-width:800px;padding:20px}
.article-content .breadcrumb{margin-bottom:20px}
.article-title{font-size:2rem;font-weight:700;margin-bottom:20px}
.article-meta {display:inline-flex;align-items:center;gap:.25em;margin-bottom:20px;font-size:.95em;color:#666}
.article-meta .wp-block-post-author__content,.article-meta .wp-block-post-date {margin:0;line-height:1}
.meta-sep {margin:0 .3em;user-select:none}
.article-image{margin-bottom:20px}
.article-image img{width:100%;border-radius:4px}
.article-body p{margin-bottom:1.5rem;line-height:1.6}

/* ------------------------------------------------------------
   8. Informer Block
------------------------------------------------------------- */
.informer-block{padding:1rem;margin-bottom:2rem}
.informer-block .columns{display:flex;gap:1rem;align-items:flex-start}

.informer-block .featured-item{flex:1;padding: .15rem}
.informer-block .column.is-one-third{flex:1;display:flex;flex-direction:column;gap:1rem}

/* ----- універсальна обгортка для картинок ----- */
.informer-img{position:relative;overflow:hidden;border-radius:4px}
.informer-img img{width:100%;height:100%;object-fit:cover;display:block}
.informer-block .small-item .informer-img{aspect-ratio:5/3}

/* ----- small‑item ----- */
.informer-block .column.is-one-third{padding:0px 0.75rem}
.informer-block .small-item{display:grid;grid-template-columns:40% 1fr;grid-template-rows:auto auto;column-gap:.75rem;row-gap:.25rem;align-items:start}
.informer-block .small-item .informer-img{grid-column:1;grid-row:1 / span 2}
.informer-block .small-item h4{display:-webkit-box;grid-column:2;grid-row:1;margin: 0;-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis}
.informer-block .small-item .informer-date.small-date{grid-column:2;grid-row:2;margin:0;font-size:.85rem;color:#666}

/* ----- date ----- */
.informer-block .informer-date{display:block;margin:.25rem 0 0;font-size:0.85rem;color:#666}
.informer-block .featured-item h3 + .informer-date{margin-bottom:1rem}
.informer-block .small-item{grid-template-rows: auto auto auto}
.informer-block .small-item .informer-date.small-date{grid-column:2;grid-row:2;margin:0}
.informer-block .small-item p.truncate{grid-column: 2;grid-row: 3}

/* ----- link під інформером ----- */
.informer-read-all{margin:1rem 0}
.informer-read-all a{font-size:1rem;font-weight:500;text-decoration:none}
.informer-read-all a:hover{text-decoration:underline}

/* ----- link інформер ----- */
.informer-block a{text-decoration: none}

/* -------------------------
   9. Single Post
------------------------- */
.article-content .wp-block-post-content p{margin:0 0 1.75rem;line-height:1.8}
.article-content .wp-block-post-content h2,.article-content .wp-block-post-content h3,.article-content .wp-block-post-content h4{margin:2.5rem 0 1rem;line-height:1.3}
.article-content .wp-block-post-content ul,.article-content .wp-block-post-content ol{margin:0 0 1.75rem 1.5rem;line-height:1.8}
.article-content .wp-block-post-content blockquote{margin:0 0 1.75rem;padding-left:1rem;border-left:4px solid #ccc;line-height:1.8}

/* ------------------------------------------------------------
   10. Sidebar / Global Aside
------------------------------------------------------------- */
.global-aside{border-radius:7px;padding:20px;margin:10px 0;position:sticky;top:20px;max-height:calc(100vh - 40px);overflow-y:auto}

/* ------------------------------------------------------------
   11. Footer
------------------------------------------------------------- */
.footer-menu{display:flex;justify-content:center;align-items:center;gap:1rem;flex-wrap:wrap}
.footer-menu a.navbar-item{text-decoration:none;color:inherit;padding:.5rem 1rem}

/* ------------------------------------------------------------
   12. Comments
------------------------------------------------------------- */
.comments-area{max-width:800px;padding:1.5rem 0;padding-right:20px;padding-left:20px}
.comments-area h3#comments{font-size:1.5rem;font-weight:bold;margin-bottom:1rem;padding-bottom:.5rem}
.commentlist{list-style:none;margin:0;padding:0}
.commentlist .comment{background:#fff;border:1px solid #dbdbdb;border-radius:6px;padding:1rem 1.5rem;margin-bottom:1.5rem}
.comment-body{display:flex;flex-direction:column}
.comment-meta{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem;font-size:.9rem;color:#555}
.comment-author.vcard{display:flex;align-items:center}
.comment-author.vcard .avatar{border-radius:50%;margin-right:.75rem}
.comment-author.vcard .fn{font-weight:600}
.comment-metadata{display:flex;align-items:center;gap:.5rem}
.comment-metadata a{font-size:.85rem;color:#3273dc}
.comment-metadata a:hover{text-decoration:underline}
.comment-content{font-size:1rem;line-height:1.6;margin-bottom:1rem}
.reply .comment-reply-link{font-size:.85rem;color:#3273dc}
.reply .comment-reply-link:hover{text-decoration:underline}
.comments-area .navigation{display:flex;justify-content:space-between;margin-bottom:1.5rem}
.comments-area .navigation .alignleft,.comments-area .navigation .alignright{font-size:.9rem}
#respond.comment-respond{background:#fff;border:1px solid #dbdbdb;border-radius:6px;padding:1.5rem;margin-top:2rem}
#respond .comment-reply-title{font-size:1.25rem;margin-bottom:1rem}
.comment-form-comment textarea,.comment-form-author input,.comment-form-email input,.comment-form-url input{width:100%;padding:.75rem 1rem;margin-bottom:1rem;border:1px solid #dbdbdb;border-radius:4px;font-size:1rem;background:#f5f5f5;resize:vertical}
.comment-form #submit{display:inline-flex;align-items:center;padding:.75rem 1.5rem;background:#3273dc;color:#fff;font-size:1rem;border:none;border-radius:4px;cursor:pointer}
.comment-form #submit:hover{background:#276cda}

/* ------------------------------------------------------------
   13. Helpers & Utilities
------------------------------------------------------------- */
.truncate{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}
.truncate-2{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}

/* ------------------------------------------------------------
   14. Colour Overrides (Neutral Blocks)
------------------------------------------------------------- */
.navbar.is-primary,footer.footer,.global-aside{background:transparent;color:inherit}

/* ------------------------------------------------------------
   15. Custom
   * Ideolgically it is correct to add a new style block 
   * with inline code to override what was added by the engine, 
   * if it is not possible to change what was added by the engine, 
   * but it is redundant, so we use the order
------------------------------------------------------------- */
.wp-block-search__button{margin:0!important}
.tabs.is-toggle a{border-color:transparent}

/* ------------------------------------------------------------
   16. Pagination fallback styling
------------------------------------------------------------- */
.fallback-pagination ul.page-numbers {
  display: flex;
  gap: 0.5rem;
  list-style: none;
  margin: 1.5rem 0;
  padding: 0;
  justify-content: center; /* выровнять по центру */
}

.fallback-pagination ul.page-numbers li {
  margin: 0;
}

/* Ссылка и span (текущая и обычные страницы) */
.fallback-pagination ul.page-numbers li a,
.fallback-pagination ul.page-numbers li span {
  display: inline-block;
  min-width: 2.25rem;
  padding: 0.5rem 0.75rem;
  text-align: center;
  border: 1px solid #ddd;
  border-radius: 0.375rem;
  font-weight: 500;
  text-decoration: none;
  color: #1e73be;
  background-color: #fff;
  transition: background-color 0.2s, color 0.2s;
}

/* Hover-состояние для ссылок */
.fallback-pagination ul.page-numbers li a:hover {
  background-color: #f5f5f5;
}

/* Текущая страница */
.fallback-pagination ul.page-numbers li span.current {
  background-color: #1e73be;
  border-color:   #1e73be;
  color:          #fff;
}

/* Стили для стрелок Prev/Next */
.fallback-pagination ul.page-numbers li a.prev,
.fallback-pagination ul.page-numbers li a.next {
  font-weight: 700;
  color: #333;
  border-color: #aaa;
}

.fallback-pagination ul.page-numbers li a.prev:hover,
.fallback-pagination ul.page-numbers li a.next:hover {
  background-color: #f0f0f0;
}

/* ------------------------------------------------------------
   17. Responsive Breakpoints
------------------------------------------------------------- */
/* ≤768px */
@media screen and (max-width:768px){
  .timeline-list,.news-feed{padding:0 15px}
  .news-feed article.news-item{flex-direction:column}
  .news-feed .news-image{margin-right:0;margin-bottom:15px}
  .news-feed article.news-item{padding-right:0;padding-left:0}
  .article-content,.breadcrumb{padding:15px}
}

/* ≤1024px */
@media screen and (max-width:1024px){
   /* general concept of side containers */
   .breadcrumb,.news-feed article.news-item,.container.main-container>.wp-block-columns>.wp-block-column:last-child{max-width:800px}
   .news-feed article.news-item,.article-content,.comments-area{margin:0 auto}
   /*----*/
   .informer-block .columns{flex-direction:column}
   .informer-block .columns>.column{flex:none!important;width:100%!important}
   .container.main-container>.wp-block-columns{flex-direction:column}
   .container.main-container .wp-block-column{width:100%!important}
   .informer-block{padding:1rem 20px}
}

/* ≤1006px */
@media screen and (max-width:1006px){
  .container.main-container>.wp-block-columns{display:flex!important;flex-wrap:wrap!important;gap:1rem}
  .container.main-container>.wp-block-columns>.wp-block-column:last-child{order:2!important;flex:0 0 100%!important;max-width:calc(100% - 40px)!important;margin-right:auto;margin-left:auto}
}

/* ----- ховаємо опис на десктопі ----- */
@media screen and (min-width:1024px){
  .informer-block .small-item p.truncate{display:none}
}

/* показуємо опис на мобайл */
@media screen and (max-width:1023px){
  .informer-block .small-item p.truncate{display:block}
}